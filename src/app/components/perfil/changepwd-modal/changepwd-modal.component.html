<!-- Fondo oscuro de la ventana emergente -->
<div class="popup-overlay" (click)="onClose()"></div>

<!-- Contenedor del pop-up con animaciones -->
<div class="popup">
  <h1 class="popup-title">Cambiar Contraseña</h1>

  <!-- Botón de cierre mejorado -->
  <button (click)="onClose()" class="close-button">
    ✖
  </button>

  <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
    <!-- Contraseña Actual -->
    <div class="form-group">
      <label>Contraseña Actual</label>
      <input type="password" class="form-input" formControlName="currentPassword" required>
    </div>

    <!-- Nueva Contraseña -->
    <div class="form-group">
      <label>Nueva Contraseña</label>
      <input type="password" class="form-input" formControlName="newPassword" required>
      <small *ngIf="changePasswordForm.get('newPassword')?.hasError('minlength')">
        La contraseña debe tener al menos 5 caracteres.
      </small>
    </div>

    <!-- Confirmar Nueva Contraseña -->
    <div class="form-group">
      <label>Confirmar Nueva Contraseña</label>
      <input type="password" class="form-input" formControlName="confirmPassword" required>
      <small *ngIf="changePasswordForm.hasError('passwordMismatch')">
        Las contraseñas no coinciden.
      </small>
    </div>

    <!-- Botón de envío -->
    <div class="buttons-container">
      <button type="submit" class="button update" [disabled]="changePasswordForm.invalid">
        Cambiar Contraseña
      </button>
    </div>
  </form>
</div>
